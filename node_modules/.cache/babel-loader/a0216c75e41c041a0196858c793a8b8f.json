{"ast":null,"code":"import _slicedToArray from\"/Users/joshuacowan87/thinkful_projects/Pomodoro_Timer_React_Capstone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import classNames from\"../utils/class-names\";import useInterval from\"../utils/useInterval\";import ShowTimeRemaining from\"./ShowTimeRemaining\";import SessionTitle from\"./SessionTitle\";import Pause from\"./Pause\";import ProgressBar from\"./ProgressBar\";import ModifyDurationButtons from\"./ModifyDurationButtons\";function Pomodoro(){// State variables\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTimerRunning=_useState2[0],setIsTimerRunning=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isStopped=_useState4[0],setIsStopped=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),onBreak=_useState6[0],setOnBreak=_useState6[1];var _useState7=useState(25),_useState8=_slicedToArray(_useState7,2),focusTime=_useState8[0],setFocusTime=_useState8[1];var _useState9=useState(5),_useState10=_slicedToArray(_useState9,2),breakTime=_useState10[0],setBreakTime=_useState10[1];var _useState11=useState(focusTime*60),_useState12=_slicedToArray(_useState11,2),focusRun=_useState12[0],setFocusRun=_useState12[1];var _useState13=useState(breakTime*60),_useState14=_slicedToArray(_useState13,2),breakRun=_useState14[0],setBreakRun=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),ariaValue=_useState16[0],setAriaValue=_useState16[1];// Modify focus and break time\nfunction increaseFocus(){setFocusTime(focusTime+5);setFocusRun((focusTime+5)*60);}var decreaseFocus=function decreaseFocus(){setFocusTime(focusTime-5);setFocusRun((focusTime-5)*60);};var increaseBreak=function increaseBreak(){setBreakTime(breakTime+1);setBreakRun((breakTime+1)*60);};var decreaseBreak=function decreaseBreak(){setBreakTime(breakTime-1);setBreakRun((breakTime-1)*60);};// Stop Handler\nvar stopHandler=function stopHandler(){setIsTimerRunning(false);setOnBreak(false);setFocusTime(25);setBreakTime(5);setFocusRun(focusTime*60);setBreakRun(breakTime*60);setIsStopped(true);};// Session Handler\nvar runSession=function runSession(){if(focusRun>0){setFocusRun(function(prevCount){return prevCount-1;});}else{setOnBreak(true);if(breakRun===breakTime*60){new Audio(\"https://bigsoundbank.com/UPLOAD/mp3/1482.mp3\").play();console.log(\"Switching to break time\");setBreakRun(function(prevCount){return prevCount-1;});}if(breakRun>0){setBreakRun(function(prevCount){return prevCount-1;});}if(focusRun===0&&breakRun===0){new Audio(\"https://bigsoundbank.com/UPLOAD/mp3/1482.mp3\").play();console.log(\"Restarting Timer\");setOnBreak(false);setFocusRun(focusTime*60);setBreakRun(breakTime*60);}}// progress bar values\nif(!onBreak){setAriaValue(100*(focusTime*60-focusRun)/(focusTime*60));}else{setAriaValue(100*(breakTime*60-breakRun)/(breakTime*60));}};useInterval(function(){runSession();},isTimerRunning?1000:null);function playPause(){setIsTimerRunning(function(prevState){return!prevState;});setIsStopped(false);}return/*#__PURE__*/React.createElement(\"div\",{className:\"pomodoro\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ModifyDurationButtons,{increaseFocus:increaseFocus,decreaseFocus:decreaseFocus,increaseBreak:increaseBreak,decreaseBreak:decreaseBreak,isTimerRunning:isTimerRunning,focusTime:focusTime,breakTime:breakTime})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group btn-group-lg mb-2\",role:\"group\",\"aria-label\":\"Timer controls\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-testid\":\"play-pause\",title:\"Start or pause timer\",onClick:playPause},/*#__PURE__*/React.createElement(\"span\",{className:classNames({oi:true,\"oi-media-play\":!isTimerRunning,\"oi-media-pause\":isTimerRunning})})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",title:\"Stop the session\",onClick:stopHandler},/*#__PURE__*/React.createElement(\"span\",{className:\"oi oi-media-stop\"}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"session-title\",className:\"col\"},/*#__PURE__*/React.createElement(SessionTitle,{onBreak:onBreak,focusTime:focusTime,breakTime:breakTime,isStopped:isStopped})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"lead\",\"data-testid\":\"session-sub-title\"},/*#__PURE__*/React.createElement(ShowTimeRemaining,{onBreak:onBreak,focusRun:focusRun,breakRun:breakRun,isStopped:isStopped})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Pause,{isTimerRunning:isTimerRunning,focusRun:focusRun,focusTime:focusTime,breakRun:breakRun,breakTime:breakTime,isStopped:isStopped})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProgressBar,{ariaValue:ariaValue,isStopped:isStopped}))));}export default Pomodoro;","map":{"version":3,"sources":["/Users/joshuacowan87/thinkful_projects/Pomodoro_Timer_React_Capstone/src/pomodoro/Pomodoro.js"],"names":["React","useState","classNames","useInterval","ShowTimeRemaining","SessionTitle","Pause","ProgressBar","ModifyDurationButtons","Pomodoro","isTimerRunning","setIsTimerRunning","isStopped","setIsStopped","onBreak","setOnBreak","focusTime","setFocusTime","breakTime","setBreakTime","focusRun","setFocusRun","breakRun","setBreakRun","ariaValue","setAriaValue","increaseFocus","decreaseFocus","increaseBreak","decreaseBreak","stopHandler","runSession","prevCount","Audio","play","console","log","playPause","prevState","oi"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport classNames from \"../utils/class-names\";\nimport useInterval from \"../utils/useInterval\";\nimport ShowTimeRemaining from \"./ShowTimeRemaining\";\nimport SessionTitle from \"./SessionTitle\";\nimport Pause from \"./Pause\";\nimport ProgressBar from \"./ProgressBar\";\nimport ModifyDurationButtons from \"./ModifyDurationButtons\"\n\n\nfunction Pomodoro() {\n  \n// State variables\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  const [isStopped, setIsStopped] = useState(true);\n  const [onBreak, setOnBreak] = useState(false);\n  const [focusTime, setFocusTime] = useState(25);\n  const [breakTime, setBreakTime] = useState(5);\n  const [focusRun, setFocusRun] = useState(focusTime * 60);\n  const [breakRun, setBreakRun] = useState(breakTime * 60);\n  const [ariaValue, setAriaValue] = useState(0)\n  \n\n \n// Modify focus and break time\n function increaseFocus() {\n  setFocusTime(focusTime + 5);\n  setFocusRun((focusTime + 5)*60);}\nconst decreaseFocus = () => {\n  setFocusTime(focusTime - 5);\n  setFocusRun((focusTime - 5)*60)}\nconst increaseBreak = () => {\n  setBreakTime(breakTime + 1)\n  setBreakRun((breakTime + 1)*60)}\nconst decreaseBreak = () => {\n  setBreakTime(breakTime - 1)\n  setBreakRun((breakTime - 1)*60)}\n\n// Stop Handler\nconst stopHandler = () => { \n  setIsTimerRunning(false)\n  setOnBreak(false) \n  setFocusTime(25)\n  setBreakTime(5)\n  setFocusRun(focusTime * 60)\n  setBreakRun(breakTime * 60)\n  setIsStopped(true)\n}\n\n// Session Handler\nconst runSession = () => {\n  if (focusRun > 0) {    \n    setFocusRun((prevCount) => prevCount - 1);  \n  }\n  else { \n    setOnBreak(true);\n      if (breakRun === breakTime*60) {\n        new Audio(`https://bigsoundbank.com/UPLOAD/mp3/1482.mp3`).play();\n    console.log(\"Switching to break time\");\n    setBreakRun((prevCount) => prevCount -1)\n    }\n    if (breakRun > 0) {\n       setBreakRun((prevCount) => prevCount -1)\n    }\n    if (focusRun === 0 && breakRun === 0) {\n    new Audio(`https://bigsoundbank.com/UPLOAD/mp3/1482.mp3`).play();\n    console.log(\"Restarting Timer\")\n    setOnBreak(false);\n    setFocusRun(focusTime * 60);\n    setBreakRun(breakTime * 60);    \n    }\n  }\n            // progress bar values\n  if (!onBreak) {\n   setAriaValue(100*(focusTime * 60 - focusRun)/(focusTime*60))\n } \n  else {setAriaValue(100*(breakTime * 60 - breakRun)/(breakTime*60))\n       }\n}\n\n\n\n  useInterval(() => {\n      runSession();\n    },\n    isTimerRunning ? 1000 : null\n  );\n\n  function playPause() {\n    setIsTimerRunning((prevState) => !prevState);\n    setIsStopped(false)\n  }\n\n  return (\n    <div className=\"pomodoro\">\n {/* Modify Duration Buttons*/}     \n      <div>\n        <ModifyDurationButtons \n        increaseFocus={increaseFocus}\n        decreaseFocus={decreaseFocus}\n        increaseBreak={increaseBreak}\n        decreaseBreak={decreaseBreak}\n        isTimerRunning={isTimerRunning}\n        focusTime={focusTime}\n        breakTime={breakTime} />\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <div\n            className=\"btn-group btn-group-lg mb-2\"\n            role=\"group\"\n            aria-label=\"Timer controls\"\n          >\n{/* Play/Pause Button */}            \n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              data-testid=\"play-pause\"\n              title=\"Start or pause timer\"\n              onClick={playPause}\n            >\n              <span\n                className={classNames({\n                  oi: true,\n                  \"oi-media-play\": !isTimerRunning,\n                  \"oi-media-pause\": isTimerRunning,\n                })}\n              />\n            </button>\n{/* Stop Button     */}      \n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              title=\"Stop the session\"\n              onClick={stopHandler}>\n              <span className=\"oi oi-media-stop\" />\n            </button>\n          </div>\n        </div>\n      </div>     \n      <div>        \n        <div className=\"row mb-2\">\n          <div data-testid=\"session-title\" className=\"col\">        \n\n {/* Session Title       */}\n              <SessionTitle\n               onBreak={onBreak}\n               focusTime={focusTime}\n               breakTime={breakTime}\n               isStopped={isStopped}/>\n          </div>\n\n{/* TimeRemaining  */}\n          <div>\n            <p className=\"lead\" data-testid=\"session-sub-title\">\n             <ShowTimeRemaining \n               onBreak={onBreak}\n               focusRun={focusRun}\n               breakRun={breakRun} \n               isStopped={isStopped}/>     \n            </p>\n          </div>\n        </div>\n\n{/* Pause Sign */}        \n        <div>\n          <Pause \n            isTimerRunning={isTimerRunning}\n            focusRun={focusRun}\n            focusTime={focusTime}\n            breakRun={breakRun}\n            breakTime={breakTime}\n            isStopped={isStopped}\n            />     \n        </div>\n        <div>\n\n {/* Progress Bar */}       \n            <ProgressBar\n              ariaValue={ariaValue}\n              isStopped={isStopped}    \n              />\n     \n      </div>\n    </div>\n   </div>\n  );\n}\n\nexport default Pomodoro;\n"]},"metadata":{},"sourceType":"module"}